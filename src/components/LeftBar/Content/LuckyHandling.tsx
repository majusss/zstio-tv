import { useEffect, useState } from "react";
import axios from "axios";

export default function LuckyHandling() {
  const [luckyNumber, setluckyNumber] = useState(0);

  useEffect(() => {
    async function sendReq() {
      const luckyNumberReq = await axios.get(
        "http://localhost:5173/api/getLuckyNumber?account=eyJsb2dpbklkIjozMDE2OSwidXNlckxvZ2luIjoia2FjZWtrYWthQGdtYWlsLmNvbSIsInVzZXJOYW1lIjoia2FjZWtrYWthQGdtYWlsLmNvbSIsInJlc3RVcmwiOiJodHRwczovL2xla2NqYXBsdXMudnVsY2FuLm5ldC5wbC9wb3dpYXRqYXJvc2xhd3NraS8ifQ==&keystore=eyJjZXJ0aWZpY2F0ZSI6Ik1JSUN5ekNDQWJPZ0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFwTVNjd0pRWURWUVFERXg1QlVGQmZRMFZTVkVsR1NVTkJWRVVnUTBFZ1EyVnlkR2xtYVdOaGRHVXdIaGNOTWpNd09USTVNVFV5TURFM1doY05ORE13T1RJNU1UVXlNREUzV2pBcE1TY3dKUVlEVlFRREV4NUJVRkJmUTBWU1ZFbEdTVU5CVkVVZ1EwRWdRMlZ5ZEdsbWFXTmhkR1V3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ2l6Qm1iVGtSQWx3QWY1TE9aNnJlUkFaUTN0dFFBR1NZd1BLQVN5VWRybGZFQ2FuQVhxRGlLN0xMWUIzMzYrUXRIRUhTcVZvT1ZNVGpadS9QeTRVSmROYjdZT1pTbzVmNTVNSGE3bWVyVkluOFRsWmpkMy9PVjN6UmQyMmlRUzBhWVV3TDR6QU90T1BMRUhHVUR1ajFZeS9rTk1aK3J5WUZKNDI0ZnBtVllrK0Jwd0E3K1g1RVdHcHpLemJzV09JM3ZhK1pUMmc2bEIyWVZyMFB1S0l0RG1JYWQ0SzBUU3ZCRjE0OEdxVG9XeDZkK1hqOXRjZ2h4aGl0Tm5mbXVXSXpSQVRWUTlpNHdzUEFPNHBNQTc4TXI1QVVmK3c5ODlRUDVtT05nV0dhTlRWV2R3ZkUvemlPU1hYYUNnNXIyZXlEQ2xRZC9iTk9yOFlqY0ZHQ3JpRVlKQWdNQkFBRXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQmI2QkVLbCtBekszR1psa0dFL2hHMXY3ekNBUEtaMDRxbGNRb3FRWUNXQTdSU25LYXAyeUxqNkZRRk9SdmxjcnR1WlVVK296MW9ST3V0QUpKTGs2VHhsd2hBK3VmbEZrcWtIQWhndmdmWFUyNnVJUFI4RllCVnNmblhHdG9RYzVreldxVkNRVjhyZXlHQ3k5Nk5TOHpHeGhmVkZtcnZFSTF2Q0lET1pQNFMwTlFYaWFzNjdmVFEzd3M5Q0lET3gvUGhCMEFxQ28zajNIU0Y1aWp0eXlHMDBlMGY5eXR5UVQ0VElyMHFZZGg4Y2RhY1JJL2ZMeFdyU2Z0empUeDFPb1hVNndveFdYYnBhUDJQZWlFTXFoNk9wdmRpckYrUUJJSUF1T203R1RHTGgwZ2pWUmpycVg4alZmWjBVamxTTlRDelQwUm5iQTYzdXFWRzlBZnZwYjNFPSIsImZpbmdlcnByaW50IjoiZjg1ZGY0MzM0OTAwYjJmZTA2MTI2YzhjY2Y0MWIxYzM3M2Q4OTgxZiIsInByaXZhdGVLZXkiOiJNSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUUNpekJtYlRrUkFsd0FmNUxPWjZyZVJBWlEzdHRRQUdTWXdQS0FTeVVkcmxmRUNhbkFYcURpSzdMTFlCMzM2K1F0SEVIU3FWb09WTVRqWnUvUHk0VUpkTmI3WU9aU281ZjU1TUhhN21lclZJbjhUbFpqZDMvT1YzelJkMjJpUVMwYVlVd0w0ekFPdE9QTEVIR1VEdWoxWXkva05NWityeVlGSjQyNGZwbVZZaytCcHdBNytYNUVXR3B6S3pic1dPSTN2YStaVDJnNmxCMllWcjBQdUtJdERtSWFkNEswVFN2QkYxNDhHcVRvV3g2ZCtYajl0Y2doeGhpdE5uZm11V0l6UkFUVlE5aTR3c1BBTzRwTUE3OE1yNUFVZit3OTg5UVA1bU9OZ1dHYU5UVldkd2ZFL3ppT1NYWGFDZzVyMmV5RENsUWQvYk5PcjhZamNGR0NyaUVZSkFnTUJBQUVDZ2dFQUI3bGlYNldMaEhzRnBQMi9iY2FldGhFYW5MZ2VmL0N4aUtsZnVQUjI0SXBwT0lHZlZ1Z0M0c2lQUmNPNVBQNnpBOGlxbUdocGJ0czZoTTR2cVc3NXJKMS90QmVyVDRZMkdEN3Q2MEhHekIwS1pYMzhGazdwYWt1QVd4R3RlT2N4YnNuRmd0Ti9PeWxRRDNEL2MvbFNydE5pdWpjSUNla1NLdFRSSlV4S1U3VUJEQ2VCajF1dGpGajYwVkEvZXVLT3RNOFM2VEg5b3h5VHN0b3NKOTZydVBRcFIybE1pYkxiYVlpYmhjOXhaTkxBNVA0eHpLbjE1ampxQStxY0wvSXYzc215M01ld1I4RXgyY0lBRGdEZ2tlUXg1cExFN0lMREZrbmFFb3A3cmVNeWZ3andGN05HKzNxRFNjTXgzNHN0dmZSK3EvVGFYa0cwK3pWOHM4NisyUUtCZ1FEYitQbGVTTEF5NXYyL245cmZkKzk5NUJxOTlEa0svdUQyZUZpcFYzL2s2K2ZzK3F3a0FxZzNZbkdFRU1Ub29KOFE1ejRxMUVNeURrVmVhRXd3YjZPcENXM0FVbWhvRFB1VjEzL3JrWjZqOUV1UTRFNDRoekxRbmw4RHlkWVVZZGFRWFpvQUpDenlkSGdmTldBS3AvV3hSaDV0ZU04RDQrU08wTmFTbnUyTnJRS0JnUUM5ZGVCRzJMekJCR0hNNGo5UkZ3UlBuTm00NjROT3VWc3UwL2xJdGFEblA0azZZSzF3VTFTSzFhWHN5eitsQzBqQ3ZUeHJJeHBLbEVEOGsrMTE0Z1BtSU1YcGN4WGJsemVXVWVoSjA4TllzNDlxUTlHWmVwU0FGUXZTZHlNc0pRMXc0dGVldWg5WVV6NjZSMHVGMzErcUY4d2hZSzUvWVBnclV3aks4QXB0VFFLQmdRQzh2TUFCbEs2UnpqMzBOODFOSmhQMzJVclVwd0oybThBYjJhQ0JFOUZwY3J2WlNpOSs2a1M0Mko5N2FBUDdjUzFxREc3N3dvb3hIYXVKV0VYZTNUcjRJMTNtd1E1U0VLbWdwSGxlZnVBMTNyc2pnRUc5SU11SjBnakdNRnlkdW1DbUY1bTErMVFSWjd0VlU2K25GUHVxOGZYVGllOWRjQ0RBSlJHbVZmU1BOUUtCZ0MwcTFQVU81ckQ5WW5OOTNLcHdXazdBamdkUDNsWCtTb2EzY2s2clBsampCTXd1RUNzZk1xQ0ducS85Skljc1VZUmJxUFBCd3ByVkRVa3Ayd3FuZjFaMXFia2wvcWdEUFBWUlFaZVlMSklRL0xmUXd6OWJ3ZHRuS1JKYjVMNjVkcUxhOFp5ZHNxdFQ3VGhybHMycm14cnA0WGh6bkNZeDcvZ2tLNHgxL1laaEFvR0JBTmZkWitSOE5RRHhjdmozMjhEMExETjFDak8vd0dEOVhBTUtWY2d0UGZObmRTSnU3UEQ0Q1VGMllwZ2NyYUYySGFkR202VG9aMFhwb0lVeWlrQjU3Ykgyci9jZ0MwRzUxWVhCZEVsRHZIaHAyaVR5bW9HenVHcFdVcitDNGpMeXRXQlhzWHFKZGJIaXZXcHh0Q2JkODVGNjZvRzdLVmp0MVlwdFVIUFovaDF2IiwiZmlyZWJhc2VUb2tlbiI6ImNFb2JNZElfSEVNOkFQQTkxYkVaVWh4TVdfWlRKWFJoNWtSb3FrdkN6ekRyWk1UUGJlTTJoMG51c3B6SFVWU2owVDJzMmpEeGZiYm0xMHFSbWVKVDJScENYSjRoRVFQblZzVEN0Vy1uWG5jSEprTV9QbEQ1LUVwQ0Q4SlpZNmJHcFhpbXlyZHEtdkpVTVlrSlBUUDQzMWdoIiwiZGV2aWNlTW9kZWwiOiJWdWxjYW4gQVBJIChOb2RlIHYxOC4xNi4xKSJ9",
      );
      if (!luckyNumberReq.data.success) return;

      setluckyNumber(luckyNumberReq.data.luckyNumber);
    }

    sendReq();
  }, []);

  return (
    <div
      className={"text-white flex items-center justify-center w-full py-3 mx-3"}
    >
      <h1 className={"font-bold text-lg"}>
        SzczÄ™Å›liwy numerek: {luckyNumber}ðŸŽ‰
      </h1>
    </div>
  );
}
